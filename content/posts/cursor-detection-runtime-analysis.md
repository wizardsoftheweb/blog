---
title: "Cursor Detection Run Time Analysis"
slug: "cursor-detection-runtime-analysis"
date: "2018-01-15T05:30:00.000Z"
feature_image: "/images/2018/01/violin-xlib-color-1.png"
author: "CJ Harries"
description: "This is a follow-up to post comparing cursor snooping methods. I don't have much to add, just more code and some (basic) graphs. Direct Xlib usage is the way to go.
"
tags:
  - Automation
  - data analysis
  - Python
  - Xlib
  - python-xlib
  - pyautogui
  - X11
  - Linux
  - cursor
  - xdotool
  - bash
  - RStudio
---

This is a quick follow-up to [an earlier post today](https://blog.wizardsoftheweb.pro/quickly-detect-cursor-position-and-color/). I don't have much to add, just more code and some (basic) graphs. Direct Xlib usage is seriously the way to go.

<p class="nav-p"><a id="post-nav"></a></p>

- [Code](#code)
- [Script Runner](#script-runner)
- [Raw Data](#raw-data)
- [Munging Setup](#munging-setup)
- [`pyautogui-pixel-color.py`](#pyautogui-pixel-colorpy)
- [`xlib-color.py`](#xlib-colorpy)
- [`xwd-convert-chained.py`](#xwd-convert-chainedpy)
- [`xwd-convert.sh`](#xwd-convertsh)
- [All Together](#all-together)
- [Slow Only](#slow-only)
- [Conclusions](#conclusions)

## Code

You can find everything here [in the repo](https://github.com/wizardsoftheweb/linux-automation-cursor-detection).

## Script Runner

To get some data, I had to revamp most of the scripts from the first post. I made sure all of them exported these things:

- RGB triplet: `pyautogui` seems [to limit its output](https://pyautogui.readthedocs.io/en/latest/screenshot.html#pixel-matching), so I reduced everything down to `[0,255]`
- Mouse position: I wanted to use this for color comparisons, which hasn't happened yet
- Action run time: This previously included setup and pixel hunting; it now also includes RGB and mouse parsing

After a fair amount of trial-and-error (X11 apparently gets cranky at some of the abrupt switches I was attempting), I finally settled on [this approach](https://github.com/wizardsoftheweb/linux-automation-cursor-detection/blob/master/utilities/script-runner.py) using promises and subprocesses.

The runner creates a bunch of random points, then, for each script, moves the cursor to each point and captures data. It's untested right now (I'm sorry ðŸ™ƒ) but I did run it many, many times on my machine.

## Raw Data

I did a quick run of 100 points (so 400 total data points) this afternoon. Rather than try to get a good table script up and running on my blog, I'm going to leave the data in GitHub. Check out [the full CSV](https://github.com/wizardsoftheweb/linux-automation-cursor-detection/blob/master/data/run_time_comparison.csv) to see everything.

## Munging Setup

I threw everything in [RStudio](https://www.rstudio.com/) because I don't know what else to look for or use (yet). Stick with what you know, right? I'm going to run mean and median as well as create [violin plots](https://en.wikipedia.org/wiki/Violin_plot). You can skim [the whole thing at once](https://github.com/wizardsoftheweb/linux-automation-cursor-detection/blob/master/utilities/process-run_time_comparison.R) or follow along below.

<table class="highlighttable" style='border-radius:5px; display:block; font-family:Consolas, "Courier New", monospace; min-width:300px; overflow:auto; width:100%; background:#272822; color:#f8f8f2' width="100%"><tr><td class="code" style="border:none; background-image:none; background-position:center; background-repeat:no-repeat; padding:10px 0">
<div class="highlight" style='border-radius:5px; display:block; font-family:Consolas, "Courier New", monospace; min-width:300px; overflow:auto; width:100%; background:#272822; color:#f8f8f2' width="100%"><pre style="background:#272822; color:#f8f8f2; border:none; font-size:1em; line-height:125%; padding:10px; margin-bottom:0; margin-top:0; padding-bottom:0; padding-top:0"><span></span><span class="gp" style="color:#66d9ef">&gt;</span> library<span class="o" style="color:#f92672">(</span>readr<span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> library<span class="o" style="color:#f92672">(</span>vioplot<span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> library<span class="o" style="color:#f92672">(</span>dplyr<span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> run_time_comparison &lt;- read_csv<span class="o" style="color:#f92672">(</span><span class="s2" style="color:#e6db74">"../data/run_time_comparison.csv"</span><span class="o" style="color:#f92672">)</span><br><span class="go" style="color:#888">Parsed with column specification:</span><br><span class="go" style="color:#888">cols(</span><br><span class="go" style="color:#888">  script_name = col_character(),</span><br><span class="go" style="color:#888">  run_time = col_double(),</span><br><span class="go" style="color:#888">  red = col_integer(),</span><br><span class="go" style="color:#888">  green = col_integer(),</span><br><span class="go" style="color:#888">  blue = col_integer(),</span><br><span class="go" style="color:#888">  x_coordinate = col_integer(),</span><br><span class="go" style="color:#888">  y_coordinate = col_integer(),</span><br><span class="go" style="color:#888">  finished = col_double()</span><br><span class="go" style="color:#888">)</span><br></pre></div>
</td></tr></table>

## `pyautogui-pixel-color.py`

<table class="highlighttable" style='border-radius:5px; display:block; font-family:Consolas, "Courier New", monospace; min-width:300px; overflow:auto; width:100%; background:#272822; color:#f8f8f2' width="100%"><tr><td class="code" style="border:none; background-image:none; background-position:center; background-repeat:no-repeat; padding:10px 0">
<div class="highlight" style='border-radius:5px; display:block; font-family:Consolas, "Courier New", monospace; min-width:300px; overflow:auto; width:100%; background:#272822; color:#f8f8f2' width="100%"><pre style="background:#272822; color:#f8f8f2; border:none; font-size:1em; line-height:125%; padding:10px; margin-bottom:0; margin-top:0; padding-bottom:0; padding-top:0"><span></span><span class="gp" style="color:#66d9ef">&gt;</span> <span class="nv" style="color:#f8f8f2">pyautogui_pixel_color_py</span> <span class="o" style="color:#f92672">=</span> dplyr::filter<span class="o" style="color:#f92672">(</span>run_time_comparison,<br><span class="gp" style="color:#66d9ef">+</span>                                          <span class="nv" style="color:#f8f8f2">script_name</span> <span class="o" style="color:#f92672">==</span> <span class="s2" style="color:#e6db74">"pyautogui-pixel-color.py"</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> mean<span class="o" style="color:#f92672">(</span>pyautogui_pixel_color_py<span class="nv" style="color:#f8f8f2">$run_time</span><span class="o" style="color:#f92672">)</span><br><span class="go" style="color:#888">[1] 280.9725</span><br><span class="gp" style="color:#66d9ef">&gt;</span> median<span class="o" style="color:#f92672">(</span>pyautogui_pixel_color_py<span class="nv" style="color:#f8f8f2">$run_time</span><span class="o" style="color:#f92672">)</span><br><span class="go" style="color:#888">[1] 280.2196</span><br><span class="gp" style="color:#66d9ef">&gt;</span> png<span class="o" style="color:#f92672">(</span><br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">filename</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"../output/violin-pyautogui-pixel-color.png"</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">units</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"px"</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">width</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">860</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">height</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">558</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">pointsize</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">12</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">res</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">96</span><br><span class="gp" style="color:#66d9ef">+</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> vioplot<span class="o" style="color:#f92672">(</span><br><span class="gp" style="color:#66d9ef">+</span>   pyautogui_pixel_color_py<span class="nv" style="color:#f8f8f2">$run_time</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">names</span> <span class="o" style="color:#f92672">=</span> c<span class="o" style="color:#f92672">(</span><span class="s2" style="color:#e6db74">"pyautogui-pixel-color.py"</span><span class="o" style="color:#f92672">)</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">col</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"deepskyblue2"</span><br><span class="gp" style="color:#66d9ef">+</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> title<span class="o" style="color:#f92672">(</span><span class="s2" style="color:#e6db74">"Violin Plot of Script Run Time"</span>,<br><span class="gp" style="color:#66d9ef">+</span>       <span class="nv" style="color:#f8f8f2">ylab</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"Milliseconds"</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> dev.off<span class="o" style="color:#f92672">()</span><br><span class="go" style="color:#888">RStudioGD</span><br><span class="go" style="color:#888">        2</span><br></pre></div>
</td></tr></table>

![violin-pyautogui-pixel-color](/images/2018/01/violin-pyautogui-pixel-color.png)

## `xlib-color.py`

<table class="highlighttable" style='border-radius:5px; display:block; font-family:Consolas, "Courier New", monospace; min-width:300px; overflow:auto; width:100%; background:#272822; color:#f8f8f2' width="100%"><tr><td class="code" style="border:none; background-image:none; background-position:center; background-repeat:no-repeat; padding:10px 0">
<div class="highlight" style='border-radius:5px; display:block; font-family:Consolas, "Courier New", monospace; min-width:300px; overflow:auto; width:100%; background:#272822; color:#f8f8f2' width="100%"><pre style="background:#272822; color:#f8f8f2; border:none; font-size:1em; line-height:125%; padding:10px; margin-bottom:0; margin-top:0; padding-bottom:0; padding-top:0"><span></span><span class="gp" style="color:#66d9ef">&gt;</span> <span class="nv" style="color:#f8f8f2">xlib_color_py</span> <span class="o" style="color:#f92672">=</span> dplyr::filter<span class="o" style="color:#f92672">(</span>run_time_comparison, <span class="nv" style="color:#f8f8f2">script_name</span> <span class="o" style="color:#f92672">==</span> <span class="s2" style="color:#e6db74">"xlib-color.py"</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> mean<span class="o" style="color:#f92672">(</span>xlib_color_py<span class="nv" style="color:#f8f8f2">$run_time</span><span class="o" style="color:#f92672">)</span><br><span class="go" style="color:#888">[1] 0.396111</span><br><span class="gp" style="color:#66d9ef">&gt;</span> median<span class="o" style="color:#f92672">(</span>xlib_color_py<span class="nv" style="color:#f8f8f2">$run_time</span><span class="o" style="color:#f92672">)</span><br><span class="go" style="color:#888">[1] 0.3905296</span><br><span class="gp" style="color:#66d9ef">&gt;</span> png<span class="o" style="color:#f92672">(</span><br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">filename</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"../output/violin-xlib-color.png"</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">units</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"px"</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">width</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">860</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">height</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">558</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">pointsize</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">12</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">res</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">96</span><br><span class="gp" style="color:#66d9ef">+</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> vioplot<span class="o" style="color:#f92672">(</span>xlib_color_py<span class="nv" style="color:#f8f8f2">$run_time</span>,<br><span class="gp" style="color:#66d9ef">+</span>         <span class="nv" style="color:#f8f8f2">names</span> <span class="o" style="color:#f92672">=</span> c<span class="o" style="color:#f92672">(</span><span class="s2" style="color:#e6db74">"xlib-color.py"</span><span class="o" style="color:#f92672">)</span>,<br><span class="gp" style="color:#66d9ef">+</span>         <span class="nv" style="color:#f8f8f2">col</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"deepskyblue2"</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> title<span class="o" style="color:#f92672">(</span><span class="s2" style="color:#e6db74">"Violin Plot of Script Run Time"</span>,<br><span class="gp" style="color:#66d9ef">+</span>       <span class="nv" style="color:#f8f8f2">ylab</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"Milliseconds"</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> dev.off<span class="o" style="color:#f92672">()</span><br><span class="go" style="color:#888">RStudioGD</span><br><span class="go" style="color:#888">        2</span><br></pre></div>
</td></tr></table>

![violin-xlib-color](/images/2018/01/violin-xlib-color.png)

## `xwd-convert-chained.py`

<table class="highlighttable" style='border-radius:5px; display:block; font-family:Consolas, "Courier New", monospace; min-width:300px; overflow:auto; width:100%; background:#272822; color:#f8f8f2' width="100%"><tr><td class="code" style="border:none; background-image:none; background-position:center; background-repeat:no-repeat; padding:10px 0">
<div class="highlight" style='border-radius:5px; display:block; font-family:Consolas, "Courier New", monospace; min-width:300px; overflow:auto; width:100%; background:#272822; color:#f8f8f2' width="100%"><pre style="background:#272822; color:#f8f8f2; border:none; font-size:1em; line-height:125%; padding:10px; margin-bottom:0; margin-top:0; padding-bottom:0; padding-top:0"><span></span><span class="gp" style="color:#66d9ef">&gt;</span> <span class="nv" style="color:#f8f8f2">xwd_convert_chained_py</span> <span class="o" style="color:#f92672">=</span> dplyr::filter<span class="o" style="color:#f92672">(</span>run_time_comparison, <span class="nv" style="color:#f8f8f2">script_name</span> <span class="o" style="color:#f92672">==</span> <span class="s2" style="color:#e6db74">"xwd-convert-chained.py"</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> mean<span class="o" style="color:#f92672">(</span>xwd_convert_chained_py<span class="nv" style="color:#f8f8f2">$run_time</span><span class="o" style="color:#f92672">)</span><br><span class="go" style="color:#888">[1] 220.0624</span><br><span class="gp" style="color:#66d9ef">&gt;</span> median<span class="o" style="color:#f92672">(</span>xwd_convert_chained_py<span class="nv" style="color:#f8f8f2">$run_time</span><span class="o" style="color:#f92672">)</span><br><span class="go" style="color:#888">[1] 219.6156</span><br><span class="gp" style="color:#66d9ef">&gt;</span> png<span class="o" style="color:#f92672">(</span><br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">filename</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"../output/violin-xwd-convert-chained.png"</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">units</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"px"</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">width</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">860</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">height</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">558</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">pointsize</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">12</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">res</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">96</span><br><span class="gp" style="color:#66d9ef">+</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> vioplot<span class="o" style="color:#f92672">(</span><br><span class="gp" style="color:#66d9ef">+</span>   xwd_convert_chained_py<span class="nv" style="color:#f8f8f2">$run_time</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">names</span> <span class="o" style="color:#f92672">=</span> c<span class="o" style="color:#f92672">(</span><span class="s2" style="color:#e6db74">"xwd-convert-chained.py"</span><span class="o" style="color:#f92672">)</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">col</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"deepskyblue2"</span><br><span class="gp" style="color:#66d9ef">+</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> title<span class="o" style="color:#f92672">(</span><span class="s2" style="color:#e6db74">"Violin Plot of Script Run Time"</span>,<br><span class="gp" style="color:#66d9ef">+</span>       <span class="nv" style="color:#f8f8f2">ylab</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"Milliseconds"</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> dev.off<span class="o" style="color:#f92672">()</span><br><span class="go" style="color:#888">RStudioGD</span><br><span class="go" style="color:#888">        2</span><br></pre></div>
</td></tr></table>

![violin-xwd-convert-chained](/images/2018/01/violin-xwd-convert-chained.png)

## `xwd-convert.sh`

<table class="highlighttable" style='border-radius:5px; display:block; font-family:Consolas, "Courier New", monospace; min-width:300px; overflow:auto; width:100%; background:#272822; color:#f8f8f2' width="100%"><tr><td class="code" style="border:none; background-image:none; background-position:center; background-repeat:no-repeat; padding:10px 0">
<div class="highlight" style='border-radius:5px; display:block; font-family:Consolas, "Courier New", monospace; min-width:300px; overflow:auto; width:100%; background:#272822; color:#f8f8f2' width="100%"><pre style="background:#272822; color:#f8f8f2; border:none; font-size:1em; line-height:125%; padding:10px; margin-bottom:0; margin-top:0; padding-bottom:0; padding-top:0"><span></span><span class="gp" style="color:#66d9ef">&gt;</span> <span class="nv" style="color:#f8f8f2">xwd_convert_sh</span> <span class="o" style="color:#f92672">=</span> dplyr::filter<span class="o" style="color:#f92672">(</span>run_time_comparison, <span class="nv" style="color:#f8f8f2">script_name</span> <span class="o" style="color:#f92672">==</span> <span class="s2" style="color:#e6db74">"xwd-convert.sh"</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> mean<span class="o" style="color:#f92672">(</span>xwd_convert_sh<span class="nv" style="color:#f8f8f2">$run_time</span><span class="o" style="color:#f92672">)</span><br><span class="go" style="color:#888">[1] 236.21</span><br><span class="gp" style="color:#66d9ef">&gt;</span> median<span class="o" style="color:#f92672">(</span>xwd_convert_sh<span class="nv" style="color:#f8f8f2">$run_time</span><span class="o" style="color:#f92672">)</span><br><span class="go" style="color:#888">[1] 242</span><br><span class="gp" style="color:#66d9ef">&gt;</span> png<span class="o" style="color:#f92672">(</span><br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">filename</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"../output/violin-xwd-convert.png"</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">units</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"px"</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">width</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">860</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">height</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">558</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">pointsize</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">12</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">res</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">96</span><br><span class="gp" style="color:#66d9ef">+</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> vioplot<span class="o" style="color:#f92672">(</span>xwd_convert_sh<span class="nv" style="color:#f8f8f2">$run_time</span>,<br><span class="gp" style="color:#66d9ef">+</span>         <span class="nv" style="color:#f8f8f2">names</span> <span class="o" style="color:#f92672">=</span> c<span class="o" style="color:#f92672">(</span><span class="s2" style="color:#e6db74">"xwd-convert.sh"</span><span class="o" style="color:#f92672">)</span>,<br><span class="gp" style="color:#66d9ef">+</span>         <span class="nv" style="color:#f8f8f2">col</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"deepskyblue2"</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> title<span class="o" style="color:#f92672">(</span><span class="s2" style="color:#e6db74">"Violin Plot of Script Run Time"</span>,<br><span class="gp" style="color:#66d9ef">+</span>       <span class="nv" style="color:#f8f8f2">ylab</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"Milliseconds"</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> dev.off<span class="o" style="color:#f92672">()</span><br><span class="go" style="color:#888">RStudioGD</span><br><span class="go" style="color:#888">        2</span><br></pre></div>
</td></tr></table>

![violin-xwd-convert](/images/2018/01/violin-xwd-convert.png)

## All Together

Because of `xlib-color.py`, this graph isn't terribly useful. There's too much range.

<table class="highlighttable" style='border-radius:5px; display:block; font-family:Consolas, "Courier New", monospace; min-width:300px; overflow:auto; width:100%; background:#272822; color:#f8f8f2' width="100%"><tr><td class="code" style="border:none; background-image:none; background-position:center; background-repeat:no-repeat; padding:10px 0">
<div class="highlight" style='border-radius:5px; display:block; font-family:Consolas, "Courier New", monospace; min-width:300px; overflow:auto; width:100%; background:#272822; color:#f8f8f2' width="100%"><pre style="background:#272822; color:#f8f8f2; border:none; font-size:1em; line-height:125%; padding:10px; margin-bottom:0; margin-top:0; padding-bottom:0; padding-top:0"><span></span><span class="gp" style="color:#66d9ef">&gt;</span> png<span class="o" style="color:#f92672">(</span><br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">filename</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"../output/violin-all.png"</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">units</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"px"</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">width</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">860</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">height</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">558</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">pointsize</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">12</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">res</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">96</span><br><span class="gp" style="color:#66d9ef">+</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> vioplot<span class="o" style="color:#f92672">(</span><br><span class="gp" style="color:#66d9ef">+</span>   pyautogui_pixel_color_py<span class="nv" style="color:#f8f8f2">$run_time</span>,<br><span class="gp" style="color:#66d9ef">+</span>   xlib_color_py<span class="nv" style="color:#f8f8f2">$run_time</span>,<br><span class="gp" style="color:#66d9ef">+</span>   xwd_convert_chained_py<span class="nv" style="color:#f8f8f2">$run_time</span>,<br><span class="gp" style="color:#66d9ef">+</span>   xwd_convert_sh<span class="nv" style="color:#f8f8f2">$run_time</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">names</span> <span class="o" style="color:#f92672">=</span> c<span class="o" style="color:#f92672">(</span><br><span class="gp" style="color:#66d9ef">+</span>     <span class="s2" style="color:#e6db74">"pyautogui-pixel-color.py"</span>,<br><span class="gp" style="color:#66d9ef">+</span>     <span class="s2" style="color:#e6db74">"xlib-color.py"</span>,<br><span class="gp" style="color:#66d9ef">+</span>     <span class="s2" style="color:#e6db74">"xwd-convert-chained.py"</span>,<br><span class="gp" style="color:#66d9ef">+</span>     <span class="s2" style="color:#e6db74">"xwd-convert.sh"</span><br><span class="gp" style="color:#66d9ef">+</span>   <span class="o" style="color:#f92672">)</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">col</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"deepskyblue2"</span><br><span class="gp" style="color:#66d9ef">+</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> title<span class="o" style="color:#f92672">(</span><span class="s2" style="color:#e6db74">"Violin Plot of Script Run Time"</span>,<br><span class="gp" style="color:#66d9ef">+</span>       <span class="nv" style="color:#f8f8f2">ylab</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"Milliseconds"</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> dev.off<span class="o" style="color:#f92672">()</span><br><span class="go" style="color:#888">RStudioGD</span><br><span class="go" style="color:#888">        2</span><br></pre></div>
</td></tr></table>

![violin-all](/images/2018/01/violin-all.png)

## Slow Only

This is one is a bit better. Unfortunately, it does a good job of highlighting how slow `pyautogui` can be.

<table class="highlighttable" style='border-radius:5px; display:block; font-family:Consolas, "Courier New", monospace; min-width:300px; overflow:auto; width:100%; background:#272822; color:#f8f8f2' width="100%"><tr><td class="code" style="border:none; background-image:none; background-position:center; background-repeat:no-repeat; padding:10px 0">
<div class="highlight" style='border-radius:5px; display:block; font-family:Consolas, "Courier New", monospace; min-width:300px; overflow:auto; width:100%; background:#272822; color:#f8f8f2' width="100%"><pre style="background:#272822; color:#f8f8f2; border:none; font-size:1em; line-height:125%; padding:10px; margin-bottom:0; margin-top:0; padding-bottom:0; padding-top:0"><span></span><span class="gp" style="color:#66d9ef">&gt;</span> png<span class="o" style="color:#f92672">(</span><br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">filename</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"../output/violin-slow.png"</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">units</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"px"</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">width</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">860</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">height</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">558</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">pointsize</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">12</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">res</span> <span class="o" style="color:#f92672">=</span> <span class="m" style="color:#ae81ff">96</span><br><span class="gp" style="color:#66d9ef">+</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> vioplot<span class="o" style="color:#f92672">(</span><br><span class="gp" style="color:#66d9ef">+</span>   pyautogui_pixel_color_py<span class="nv" style="color:#f8f8f2">$run_time</span>,<br><span class="gp" style="color:#66d9ef">+</span>   xwd_convert_chained_py<span class="nv" style="color:#f8f8f2">$run_time</span>,<br><span class="gp" style="color:#66d9ef">+</span>   xwd_convert_sh<span class="nv" style="color:#f8f8f2">$run_time</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">names</span> <span class="o" style="color:#f92672">=</span> c<span class="o" style="color:#f92672">(</span><br><span class="gp" style="color:#66d9ef">+</span>     <span class="s2" style="color:#e6db74">"pyautogui-pixel-color.py"</span>,<br><span class="gp" style="color:#66d9ef">+</span>     <span class="s2" style="color:#e6db74">"xwd-convert-chained.py"</span>,<br><span class="gp" style="color:#66d9ef">+</span>     <span class="s2" style="color:#e6db74">"xwd-convert.sh"</span><br><span class="gp" style="color:#66d9ef">+</span>   <span class="o" style="color:#f92672">)</span>,<br><span class="gp" style="color:#66d9ef">+</span>   <span class="nv" style="color:#f8f8f2">col</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"deepskyblue2"</span><br><span class="gp" style="color:#66d9ef">+</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> title<span class="o" style="color:#f92672">(</span><span class="s2" style="color:#e6db74">"Violin Plot of Script Run Time"</span>,<br><span class="gp" style="color:#66d9ef">+</span>       <span class="nv" style="color:#f8f8f2">ylab</span> <span class="o" style="color:#f92672">=</span> <span class="s2" style="color:#e6db74">"Milliseconds"</span><span class="o" style="color:#f92672">)</span><br><span class="gp" style="color:#66d9ef">&gt;</span> dev.off<span class="o" style="color:#f92672">()</span><br><span class="go" style="color:#888">RStudioGD</span><br><span class="go" style="color:#888">        2</span><br></pre></div>
</td></tr></table>

![violin-slow](/images/2018/01/violin-slow.png)

## Conclusions

- `python-xlib` is scary fast. That's so awesome.
- `pyautogui` is slower than I thought. It does seem to maintain a fairly stable slow, pace, though, in comparison to the others.
- Chaining commands via Python is actually, on average, faster than running things through `bash`. I don't know if that's because of the additional `awk` processing on the tail end of `xwd-convert.sh` or something else. It bears some investigation.
